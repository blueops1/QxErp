unit fhdxxzl;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, DB, ZAbstractRODataset, ZAbstractDataset, ZDataset, StdCtrls, Grids,
  ExtCtrls, ZStoredProcedure;

type
  TForm21 = class(TForm)
    Label3: TLabel;
    Label7: TLabel;
    Label8: TLabel;
    Label9: TLabel;
    Label10: TLabel;
    Label11: TLabel;
    Label12: TLabel;
    Label13: TLabel;
    Label14: TLabel;
    Label15: TLabel;
    Label6: TLabel;
    Label5: TLabel;
    Label2: TLabel;
    Label4: TLabel;
    Label1: TLabel;
    Bevel1: TBevel;
    Edit2: TEdit;
    Edit3: TEdit;
    StringGrid1: TStringGrid;
    Edit4: TEdit;
    Edit5: TEdit;
    Edit6: TEdit;
    ComboBox1: TComboBox;
    Edit7: TEdit;
    Edit8: TEdit;
    Edit9: TEdit;
    Edit10: TEdit;
    Edit11: TEdit;
    Edit12: TEdit;
    Edit13: TEdit;
    Button2: TButton;
    Edit14: TEdit;
    Edit1: TEdit;
    ZStoredProc1: TZStoredProc;
    Label16: TLabel;
    Edit15: TEdit;
    Label17: TLabel;
    Edit16: TEdit;
    Label18: TLabel;
    Edit17: TEdit;
    procedure FormShow(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  Form21: TForm21;

implementation

{$R *.dfm}

uses main,fhdcx;

procedure TForm21.FormShow(Sender: TObject);
begin
  try
    with zstoredproc1 do
    begin
      close;
      zstoredproc1.StoredProcName:='proc_cx_fhdxxzl';
      zstoredproc1.ParamByName('fhdbh').Value:=fhdcx.fhdid;
      open;
      zstoredproc1.FirstResultSet;
      edit1.Text:=fields[0].AsString;
      edit2.Text:=fields[1].AsString;
      edit4.Text:=fields[2].AsString;
      edit6.Text:=fields[3].AsString;

      zstoredproc1.NextResultSet;
      stringgrid1.Cells[0,0]:=fields[2].AsString;
      zstoredproc1.LastResultSet;
      edit3.Text:=fields[2].AsString;
      close;
    end;
  except
    application.MessageBox('查询数据失败！','发货单详细信息提示');

  end;
end;

end.
